<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from mobile_manipulator.urdf.xacro  | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="mm" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- I need name mobile base as base_link for navigation, so it will conflict with ur base link if prefix is not set. -->
  <!-- common stuff -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="ros_control">
      <!--robotNamespace>/mm</robotNamespace-->
      <!--robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType-->
    </plugin>
  </gazebo>
  <!-- ur5 -->
  <!-- Inertia parameters -->
  <!-- This mass might be incorrect -->
  <!-- Kinematic model -->
  <!-- Properties from urcontrol.conf -->
  <!--
    DH for UR5:
    a = [0.00000, -0.42500, -0.39225,  0.00000,  0.00000,  0.0000]
    d = [0.089159,  0.00000,  0.00000,  0.10915,  0.09465,  0.0823]
    alpha = [ 1.570796327, 0, 0, 1.570796327, -1.570796327, 0 ]
    q_home_offset = [0, -1.570796327, 0, -1.570796327, 0, 0]
    joint_direction = [-1, -1, 1, 1, 1, 1]
    mass = [3.7000, 8.3930, 2.2750, 1.2190, 1.2190, 0.1879]
    center_of_mass = [ [0, -0.02561, 0.00193], [0.2125, 0, 0.11336], [0.11993, 0.0, 0.0265], [0, -0.0018, 0.01634], [0, 0.0018,0.01634], [0, 0, -0.001159] ]
  -->
  <!-- Arbitrary offsets for shoulder/elbow joints -->
  <!-- measured from model -->
  <!-- measured from model -->
  <!-- link lengths used in model -->
  <!--property name="shoulder_height" value="0.089159" /-->
  <!--property name="shoulder_offset" value="0.13585" /-->
  <!-- shoulder_offset - elbow_offset + wrist_1_length = 0.10915 -->
  <!--property name="upper_arm_length" value="0.42500" /-->
  <!--property name="elbow_offset" value="0.1197" /-->
  <!-- CAD measured -->
  <!--property name="forearm_length" value="0.39225" /-->
  <!--property name="wrist_1_length" value="0.093" /-->
  <!-- CAD measured -->
  <!--property name="wrist_2_length" value="0.09465" /-->
  <!-- In CAD this distance is 0.930, but in the spec it is 0.09465 -->
  <!--property name="wrist_3_length" value="0.0823" /-->
  <!-- manually measured -->
  <!-- manually measured -->
  <!-- manually measured -->
  <!-- manually measured -->
  <!-- manually measured -->
  <!-- mobile base -->
  <material name="black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <!-- gripper -->
  <!-- arm -->
  <link name="arm_base_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/base.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/base.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="4.0"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.00443333156" ixy="0.0" ixz="0.0" iyy="0.00443333156" iyz="0.0" izz="0.0072"/>
    </inertial>
  </link>
  <joint name="arm_shoulder_pan_joint" type="revolute">
    <parent link="arm_base_link"/>
    <child link="arm_shoulder_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.089159"/>
    <axis xyz="0 0 1"/>
    <limit effort="150.0" lower="-3.14159" upper="3.14159" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_shoulder_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/shoulder.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/shoulder.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="3.7"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.010267495893" ixy="0.0" ixz="0.0" iyy="0.010267495893" iyz="0.0" izz="0.00666"/>
    </inertial>
  </link>
  <joint name="arm_shoulder_lift_joint" type="revolute">
    <parent link="arm_shoulder_link"/>
    <child link="arm_upper_arm_link"/>
    <origin rpy="0.0 1.570795 0.0" xyz="0.0 0.13585 0.0"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-3.14159" upper="3.14159" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_upper_arm_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/upperarm.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/upperarm.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="8.393"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.28"/>
      <inertia ixx="0.22689067591" ixy="0.0" ixz="0.0" iyy="0.22689067591" iyz="0.0" izz="0.0151074"/>
    </inertial>
  </link>
  <joint name="arm_elbow_joint" type="revolute">
    <parent link="arm_upper_arm_link"/>
    <child link="arm_forearm_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 -0.1197 0.425"/>
    <axis xyz="0 1 0"/>
    <limit effort="150.0" lower="-3.14159" upper="3.14159" velocity="3.15"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_forearm_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/forearm.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/forearm.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.275"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.25"/>
      <inertia ixx="0.049443313556" ixy="0.0" ixz="0.0" iyy="0.049443313556" iyz="0.0" izz="0.004095"/>
    </inertial>
  </link>
  <joint name="arm_wrist_1_joint" type="revolute">
    <parent link="arm_forearm_link"/>
    <child link="arm_wrist_1_link"/>
    <origin rpy="0.0 1.570795 0.0" xyz="0.0 0.0 0.39225"/>
    <axis xyz="0 1 0"/>
    <limit effort="28.0" lower="-3.14159" upper="3.14159" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_wrist_1_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/wrist1.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/wrist1.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.219"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.00255989897604" ixy="0.0" ixz="0.0" iyy="0.00255989897604" iyz="0.0" izz="0.0021942"/>
    </inertial>
  </link>
  <joint name="arm_wrist_2_joint" type="revolute">
    <parent link="arm_wrist_1_link"/>
    <child link="arm_wrist_2_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.093 0.0"/>
    <axis xyz="0 0 1"/>
    <limit effort="28.0" lower="-3.14159" upper="3.14159" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_wrist_2_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/wrist2.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/wrist2.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.219"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.00255989897604" ixy="0.0" ixz="0.0" iyy="0.00255989897604" iyz="0.0" izz="0.0021942"/>
    </inertial>
  </link>
  <joint name="arm_wrist_3_joint" type="revolute">
    <parent link="arm_wrist_2_link"/>
    <child link="arm_wrist_3_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.09465"/>
    <axis xyz="0 1 0"/>
    <limit effort="28.0" lower="-3.14159" upper="3.14159" velocity="3.2"/>
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="arm_wrist_3_link">
    <visual>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/visual/wrist3.dae"/>
      </geometry>
      <material name="LightGrey">
        <color rgba="0.7 0.7 0.7 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://mm_description/meshes/ur5/collision/wrist3.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1879"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000394589842164" ixy="0.0" ixz="0.0" iyy="0.000394589842164" iyz="0.0" izz="0.00033822"/>
    </inertial>
  </link>
  <joint name="arm_ee_fixed_joint" type="fixed">
    <parent link="arm_wrist_3_link"/>
    <child link="arm_ee_link"/>
    <origin rpy="0.0 0.0 1.570795" xyz="0.0 0.0823 0.0"/>
  </joint>
  <link name="arm_ee_link">
    <collision>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
      <origin rpy="0 0 0" xyz="-0.01 0 0"/>
    </collision>
  </link>
  <transmission name="arm_shoulder_pan_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_shoulder_pan_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_shoulder_pan_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_shoulder_lift_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_shoulder_lift_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_shoulder_lift_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_elbow_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_elbow_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_elbow_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_wrist_1_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_wrist_1_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_wrist_1_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_wrist_2_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_wrist_2_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_wrist_2_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="arm_wrist_3_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_wrist_3_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_wrist_3_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- nothing to do here at the moment -->
  <!-- ROS base_link to UR 'Base' Coordinates transform -->
  <link name="arm_base"/>
  <joint name="arm_base_link-base_fixed_joint" type="fixed">
    <!-- NOTE: this rotation is only needed as long as base_link itself is
                 not corrected wrt the real robot (ie: rotated over 180
                 degrees)
      -->
    <origin rpy="0 0 -3.14159" xyz="0 0 0"/>
    <parent link="arm_base_link"/>
    <child link="arm_base"/>
  </joint>
  <!-- Frame coincident with all-zeros TCP on UR controller -->
  <link name="arm_tool0"/>
  <joint name="arm_wrist_3_link-tool0_fixed_joint" type="fixed">
    <origin rpy="-1.570795 0 0" xyz="0 0.0823 0"/>
    <parent link="arm_wrist_3_link"/>
    <child link="arm_tool0"/>
  </joint>
  <!-- mobile base -->
  <link name="base_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.08"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/mobile_base_collision.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.08"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/mobile_base.dae"/>
      </geometry>
    </visual>
    <!--inertial>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <mass value="137.35"/>
        <inertia ixx="12.377" ixy="0.169" ixz="1.173" iyy="17.233" iyz="0.402" izz="13.446"/>
      </inertial-->
    <!-- reasonable value -->
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1370.35"/>
      <inertia ixx="120.377" ixy="1.69" ixz="10.173" iyy="170.233" iyz="4.02" izz="130.446"/>
    </inertial>
    <!-- prevent undesired motion when simulation -->
  </link>
  <!-- first wheel -->
  <joint name="base_link_2_wheel1" type="fixed">
    <parent link="base_link"/>
    <child link="wheel1"/>
    <origin rpy="0 0 0" xyz="0.35 0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel1">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <!-- second wheel -->
  <joint name="base_link_2_wheel2" type="fixed">
    <parent link="base_link"/>
    <child link="wheel2"/>
    <origin rpy="0 0 0" xyz="-0.35 0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel2">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <!-- third wheel -->
  <joint name="base_link_2_wheel3" type="fixed">
    <parent link="base_link"/>
    <child link="wheel3"/>
    <origin rpy="0 0 0" xyz="-0.35 -0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel3">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <!-- fourth wheel -->
  <joint name="base_link_2_wheel4" type="fixed">
    <parent link="base_link"/>
    <child link="wheel4"/>
    <origin rpy="0 0 0" xyz="0.35 -0.265 0.1"/>
    <!--axis xyz="0 1 0" />
      <dynamics damping="0.2" /-->
  </joint>
  <link name="wheel4">
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/wheel.dae"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.04 0"/>
      <mass value="3.519"/>
      <inertia ixx="0.016" ixy="0" ixz="0" iyy="0.017" iyz="0" izz="0.016"/>
    </inertial>
  </link>
  <!--
    <transmission name="wheel1_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="base_link_2_wheel1">
        <hardwareInterface>VelocityJointInterface</hardwareInterface>
      </joint>
      <actuator name="$wheel1_motor">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>
    
    <transmission name="wheel2_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="base_link_2_wheel2">
        <hardwareInterface>VelocityJointInterface</hardwareInterface>
      </joint>
      <actuator name="$wheel2_motor">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>
    
    <transmission name="wheel3_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="base_link_2_wheel3">
        <hardwareInterface>VelocityJointInterface</hardwareInterface>
      </joint>
      <actuator name="$wheel3_motor">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>
 
    <transmission name="wheel4_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <joint name="base_link_2_wheel4">
        <hardwareInterface>VelocityJointInterface</hardwareInterface>
      </joint>
      <actuator name="$wheel4_motor">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
    </transmission>
-->
  <!-- position controller -->
  <gazebo reference="wheel1">
    <mu1>0.7</mu1>
    <mu2>0.7</mu2>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="wheel2">
    <mu1>0.7</mu1>
    <mu2>0.7</mu2>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="wheel3">
    <mu1>0.7</mu1>
    <mu2>0.7</mu2>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="wheel4">
    <mu1>0.7</mu1>
    <mu2>0.7</mu2>
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="base_hokuyo_link">
    <sensor name="base_hokuyo" type="ray">
      <always_on>true</always_on>
      <update_rate>50</update_rate>
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <ray>
        <scan>
          <horizontal>
            <samples>150</samples>
            <resolution>1.0</resolution>
            <min_angle>-1.57</min_angle>
            <max_angle>1.57</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.05</min>
          <max>10.6</max>
          <resolution>0.36</resolution>
        </range>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_base_hokuyo_controller">
        <gaussianNoise>0.005</gaussianNoise>
        <alwaysOn>true</alwaysOn>
        <updateRate>50</updateRate>
        <topicName>base_scan</topicName>
        <frameName>/base_hokuyo_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_planar_move.so" name="base_controller">
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <odometryRate>10.0</odometryRate>
      <robotBaseFrame>base_link</robotBaseFrame>
    </plugin>
  </gazebo>
  <joint name="base_link_2_base_hokuyo_link" type="fixed">
    <parent link="base_link"/>
    <child link="base_hokuyo_link"/>
    <origin rpy="0 0 0" xyz="0.56 0 0.315"/>
  </joint>
  <link name="base_hokuyo_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.005"/>
      <geometry>
        <box size="0.05 0.05 0.08"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/mobile_base/hokuyo.dae"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <joint name="base_link_2_arm_base_link" type="fixed">
    <parent link="base_link"/>
    <child link="arm_base_link"/>
    <origin rpy="0 0 -1.5708" xyz="0.40 0 0.823"/>
  </joint>
  <joint name="robotiq_85_base_joint" type="fixed">
    <parent link="arm_tool0"/>
    <child link="robotiq_85_base_link"/>
    <origin rpy="0 -1.5707963 0" xyz="0.0 0 0.005"/>
  </joint>
  <link name="robotiq_85_base_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_base_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_base_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.636951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000380" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.001110" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.001171"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_knuckle_joint" type="revolute">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_left_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="3.14159 0.0 0.0" xyz="0.05490451627 0.03060114443 0.0"/>
    <limit effort="1000" lower="0.0" upper="0.804" velocity="2.0"/>
  </joint>
  <joint name="robotiq_85_right_knuckle_joint" type="continuous">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_right_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.05490451627 -0.03060114443 0.0"/>
    <limit effort="1000" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint"/>
  </joint>
  <link name="robotiq_85_left_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.018491"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000009" ixy="-0.000001" ixz="0.000000" iyx="-0.000001" iyy="0.000001" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000010"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.018491"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000009" ixy="-0.000001" ixz="0.000000" iyx="-0.000001" iyy="0.000001" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000010"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_finger_joint" type="fixed">
    <parent link="robotiq_85_left_knuckle_link"/>
    <child link="robotiq_85_left_finger_link"/>
    <origin rpy="0 0 0" xyz="-0.00408552455 -0.03148604435 0.0"/>
  </joint>
  <joint name="robotiq_85_right_finger_joint" type="fixed">
    <parent link="robotiq_85_right_knuckle_link"/>
    <child link="robotiq_85_right_finger_link"/>
    <origin rpy="0 0 0" xyz="-0.00408552455 -0.03148604435 0.0"/>
  </joint>
  <link name="robotiq_85_left_finger_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_finger_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.027309"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000003" ixy="-0.000002" ixz="0.000000" iyx="-0.000002" iyy="0.000021" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000020"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_finger_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_finger_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.027309"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000003" ixy="-0.000002" ixz="0.000000" iyx="-0.000002" iyy="0.000021" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000020"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_inner_knuckle_joint" type="continuous">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_left_inner_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="3.14159 0.0 0.0" xyz="0.06142 0.0127 0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" offset="0"/>
  </joint>
  <joint name="robotiq_85_right_inner_knuckle_joint" type="continuous">
    <parent link="robotiq_85_base_link"/>
    <child link="robotiq_85_right_inner_knuckle_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0 0 0" xyz="0.06142 -0.0127 0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" offset="0"/>
  </joint>
  <link name="robotiq_85_left_inner_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_inner_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_inner_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.029951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000039" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000035"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_inner_knuckle_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_inner_knuckle_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_inner_knuckle_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.029951"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000039" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000035"/>
    </inertial>
  </link>
  <joint name="robotiq_85_left_finger_tip_joint" type="continuous">
    <parent link="robotiq_85_left_inner_knuckle_link"/>
    <child link="robotiq_85_left_finger_tip_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.04303959807 -0.03759940821 0.0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" multiplier="-1"/>
  </joint>
  <joint name="robotiq_85_right_finger_tip_joint" type="continuous">
    <parent link="robotiq_85_right_inner_knuckle_link"/>
    <child link="robotiq_85_right_finger_tip_link"/>
    <axis xyz="0 0 1"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.04303959807 -0.03759940821  0.0"/>
    <limit effort="0.1" lower="-3.14" upper="3.14" velocity="100.0"/>
    <mimic joint="robotiq_85_left_knuckle_joint" multiplier="-1"/>
  </joint>
  <link name="robotiq_85_left_finger_tip_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_tip_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_finger_tip_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.019555"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000002" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000006"/>
    </inertial>
  </link>
  <link name="robotiq_85_right_finger_tip_link">
    <visual>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/visual/robotiq_85_finger_tip_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="package://robotiq_85_description/meshes/collision/robotiq_85_finger_tip_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.019555"/>
      <origin xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000002" ixy="0.000000" ixz="0.000000" iyx="0.000000" iyy="0.000005" iyz="0.000000" izx="0.000000" izy="0.000000" izz="0.000006"/>
    </inertial>
  </link>
  <transmission name="robotiq_85_left_knuckle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="robotiq_85_left_knuckle_joint">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="robotiq_85_left_knuckle_motor">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo>
    <!-- loading plugin: mimic joints works in gazebo now -->
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_1">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_right_knuckle_joint</mimicJoint>
      <!--multiplier>1.0</multiplier>
                <offset>0.0</offset-->
    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_2">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_left_inner_knuckle_joint</mimicJoint>
      <!--multiplier>1.0</multiplier>
                <offset>0.0</offset-->
    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_3">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_right_inner_knuckle_joint</mimicJoint>
      <!--multiplier>1.0</multiplier>
                <offset>0.0</offset-->
    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_4">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_left_finger_tip_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_robotiq_85_5">
      <joint>robotiq_85_left_knuckle_joint</joint>
      <mimicJoint>robotiq_85_right_finger_tip_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
  </gazebo>
  <link name="xtion1_frame">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
    <visual>
      <origin rpy="1.57 0 1.57" xyz="0.0 0.0 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/sensors/asus_xtion_pro_live_camera.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57 0 1.57" xyz="0.0 0.0 0"/>
      <geometry>
        <mesh filename="package://mm_description/meshes/sensors/asus_xtion_pro_live_camera.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="arm_base_link_2_xtion1_frame" type="fixed">
    <parent link="arm_base_link"/>
    <child link="xtion1_frame"/>
    <origin rpy="-0.369 0.825 1.119" xyz="-0.2741575 0.0807695 0.779517"/>
  </joint>
  <joint name="xtion1_frame_2_xtion1_optical_frame" type="fixed">
    <parent link="xtion1_frame"/>
    <child link="xtion1_optical_frame"/>
    <origin rpy="-1.5707963 0 -1.5707963" xyz="0 0 0"/>
  </joint>
  <link name="xtion1_optical_frame"/>
  <gazebo reference="xtion1_frame">
    <sensor name="xtion1_frame_sensor" type="depth">
      <always_on>true</always_on>
      <update_rate>20.0</update_rate>
      <camera>
        <horizontal_fov>0.994837656667</horizontal_fov>
        <image>
          <format>R8G8B8</format>
          <width>640</width>
          <height>480</height>
        </image>
        <clip>
          <near>0.01</near>
          <far>5</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="xtion1_frame_controller">
        <alwaysOn>true</alwaysOn>
        <updateRate>20.0</updateRate>
        <cameraName>xtion1</cameraName>
        <imageTopicName>xtion1/ir/image_raw</imageTopicName>
        <cameraInfoTopicName>xtion1/ir/camera_info</cameraInfoTopicName>
        <depthImageTopicName>xtion1/depth/image_raw</depthImageTopicName>
        <depthImageCameraInfoTopicName>xtion1/depth/camera_info</depthImageCameraInfoTopicName>
        <pointCloudTopicName>xtion1/depth/points</pointCloudTopicName>
        <frameName>xtion1_optical_frame</frameName>
        <!--frameName>${name}_frame</frameName-->
        <pointCloudCutoff>0.5</pointCloudCutoff>
        <distortionK1>0.0000000</distortionK1>
        <distortionK2>0.0000000</distortionK2>
        <distortionK3>0.0000000</distortionK3>
        <distortionT1>0.0000000</distortionT1>
        <distortionT2>0.0000000</distortionT2>
        <CxPrime>0</CxPrime>
        <Cx>0</Cx>
        <Cy>0</Cy>
        <focalLength>0</focalLength>
        <hackBaseline>0</hackBaseline>
      </plugin>
    </sensor>
    <sensor name="xtion1_frame_sensor" type="depth">
      <always_on>true</always_on>
      <update_rate>20.0</update_rate>
      <camera>
        <horizontal_fov>0.994837656667</horizontal_fov>
        <image>
          <format>R8G8B8</format>
          <width>640</width>
          <height>480</height>
        </image>
        <clip>
          <near>0.01</near>
          <far>5</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="xtion1_frame_controller">
        <alwaysOn>true</alwaysOn>
        <updateRate>20.0</updateRate>
        <cameraName>xtion1</cameraName>
        <imageTopicName>xtion1/rgb/image_raw</imageTopicName>
        <cameraInfoTopicName>xtion1/rgb/camera_info</cameraInfoTopicName>
        <depthImageTopicName>xtion1/depth/image_raw</depthImageTopicName>
        <depthImageCameraInfoTopicName>xtion1/depth/camera_info</depthImageCameraInfoTopicName>
        <pointCloudTopicName>xtion1/rgb/points</pointCloudTopicName>
        <frameName>xtion1_optical_frame</frameName>
        <!--frameName>${name}_frame</frameName-->
        <pointCloudCutoff>0.5</pointCloudCutoff>
        <distortionK1>0.0000000</distortionK1>
        <distortionK2>0.0000000</distortionK2>
        <distortionK3>0.0000000</distortionK3>
        <distortionT1>0.0000000</distortionT1>
        <distortionT2>0.0000000</distortionT2>
        <CxPrime>0</CxPrime>
        <Cx>0</Cx>
        <Cy>0</Cy>
        <focalLength>0</focalLength>
        <hackBaseline>0</hackBaseline>
      </plugin>
    </sensor>
  </gazebo>
</robot>

